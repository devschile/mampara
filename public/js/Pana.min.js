!function(b,a){"object"==typeof module&&module.exports?module.exports=a():b.Pana=a()}(this,function(){var b=function(a,i){for(var j=i.slice(1).split("/"),c=a.map,e={query:{},params:{}},f=0;f<j.length;f++){var d=j[f];if(-1!==d.indexOf("?")){var g=d.split("?");d=g.shift();for(var h=0;h<g.length;h++){var k=g[h].split("=");e.query[k[0]]=k[1]}}if(void 0===c[d]&&(c["*"]?d="*":c[":"]&&(e.params[c[":"].name]=d,d=":")),void 0===(c=c[d]))return b(a,a.default),!1}return void 0===c["@"]?(b(a,a.default),!1):(a.current={path:i,component:c["@"]},a.route=e,null!==a.instance&&a.instance.build(),!0)},c=function(d){var e={};for(var f in d){for(var a=e,g=f.slice(1).split("/"),c=0;c<g.length;c++){var b=g[c];if(":"===b[0]){var h={name:b.slice(1)};a[":"]=h,b=":"}void 0===a[b]&&(a[b]={}),a=a[b]}a["@"]=d[f]}return e};function a(d){this.instance=null,this.default=d.default||"/",this.map=c(d.map)||{};var e=window.location.hash.slice(1);this.current={path:e||"/",component:null},e!==this.current.path&&(window.location.hash=this.current.path),this.route={},this.activeClass=d.activeClass||"router-link-active";var f=this;a.Mutable.component("router-view",{functional:!0,render:function(a){return a(f.current.component,{attrs:{route:f.route}},{shouldRender:!0},[])}}),a.Mutable.component("router-link",{functional:!0,render:function(d,b){var a=b.data,c=a.to;return a.href="#"+c,delete a.to,c===f.current.path&&(void 0===a.class?a.class=f.activeClass:a.class+=" "+f.activeClass),d("a",{attrs:a},{shouldRender:!0},b.slots.default)}}),window.onhashchange=function(){b(f,window.location.hash.slice(1)||window.location.pathname)},b(this,this.current.path)}return a.prototype.install=function(a){this.instance=a},a.init=function(b){a.Mutable=b;var c=b.prototype.init;b.prototype.init=function(){void 0!==this.$options.router&&(this.$router=this.$options.router,this.$router.install(this)),c.apply(this,arguments)}},a})